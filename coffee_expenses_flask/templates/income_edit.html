{% extends 'base.html' %}
{% block content %}
<h1>Edit Income</h1>

<form class="card" method="post" action="{{ url_for('income_update', rid=rid) }}">
  <div class="form-grid">
    <label>
      <span>Date</span>
      <input type="date" name="date" required value="{{ date_value }}">
    </label>

    <label>
      <span>Amount (MXN)</span>
      <input type="number" step="0.01" name="amount" required value="{{ row['amount'] }}">
    </label>

    <label>
      <span>Channel</span>
      <select name="channel">
        {% for ch in income_channels %}
          <option value="{{ ch }}" {{ 'selected' if row.get('channel','') == ch else '' }}>{{ ch }}</option>
        {% endfor %}
      </select>
    </label>

    <label class="span2">
      <span>Description</span>
      <textarea name="description" rows="2">{{ row.get('description','') }}</textarea>
    </label>
  </div>

  <div style="display:flex; gap:8px; margin-top:12px;">
    <button class="btn" type="submit">Save</button>
    <a class="btn ghost" href="{{ url_for('income') }}">Cancel</a>
  </div>
</form>
{% endblock %}
